\chapter{Automatic Diversity for \wasm}
\label{chapter:technical}


% The need for technical contributions...
We aim to create artificial software diversity for \wasm, by providing tools to make the process easier and feasible for developers and researchers. According to our exhaustive literature review, no software provides artificial software diversification for WebAssembly. Therefore, we need to enunciate the engineering foundation to implement the strategies defined in \autoref{sota:sota}. Our implementations are part of the contributions of this thesis. We provide two tools that complement this work: CROW and MEWE. First, the former tool generates \wasm program variants statically at compile time to provide randomization. The latter tool provides the tooling to generate MVE binaries for WebAssembly.
In this chapter, we describe our technical contributions. In \autoref{tech:generic} we enunciate how the current state-of-the-art lead us to contribute with Software Diversification through LLVM. We follow by describing our two contributions and their main technical insights in \autoref{section:crow} and \autoref{section:mewe}. Besides, we describe a new transformation strategy as part of our contributions. 


% What does it solve ?
% The aim of massive-scale software diversity is to make it 

% . However, 

% In this chapter, we describe our threat model, return- and jump-oriented program- ming (see Section 4.2), new classes of code-reuse attacks. Code-reuse attacks are an attack class that is growing in popularity in response to other host-based defenses.
% Then we describe several compiler-based transformations (Section 4.3) and their im- plementation (Section 4.4) in the LLVM 2.9 compiler toolchain. We also provide some metrics (Section 4.5) for evaluating the effectiveness of these techniques for preventing wide-scale deployment of code-reuse attacks

%\todo{Make a real introduction, the paragraphs below is too fast}






\input{technical_chapter/generic.tex}

\input{technical_chapter/crow.tex}

\input{technical_chapter/mewe.tex}


\section{Accompanying Source Code}

This thesis is accompanied by the source code of both contributions, CROW and MEWE. The source code is accessible through the links:
\begin{enumerate}
    \item CROW: \url{https://github.com/KTH/slumps}
    \item MEWE: \url{https://github.com/Jacarte/MEWE}
\end{enumerate}

Our software artifacts are licensed under the MIT License. The dependent source codes, such as LLVM, are licensed under their original licenses.

\section*{Conclusions}

This chapter discusses the technical details of the tools implemented for our main contributions.
We describe how CROW generates program variants for the sake of software diversification.
We propose a global architecture for a generic LLVM superdiversifier
We introduce a new mutation strategy that is a consequence of retargeting Souper as a superdiversifier.
Besides, we dissect MEWE and how it creates an MVE system.
In \autoref{chapter:method} we discuss the methodology we follow to evaluate how CROW and MEWE create software diversification.